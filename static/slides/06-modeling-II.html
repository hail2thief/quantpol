<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Modeling II</title>
    <meta charset="utf-8" />
    <meta name="author" content="Juan Tellez" />
    <meta name="date" content="2021-10-21" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="stylesheet" href="css/my-theme.css" type="text/css" />
    <link rel="stylesheet" href="css/ath-inferno-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">










class: left, middle
background-image: url("images/dubois-spiral-2.png")
background-position: right
background-size: contain

# Modeling II

### *The Scientific Study of Politics*

### Professor Juan Tellez 

#### University of California, Davis

---


class: center
.large[
# Today's agenda
]

--
.box-1.large.sp-after[Modeling with `lm`]

--
.box-2.large.sp-after[Modeling with numbers]

--
.box-3.large.sp-after[Modeling with categories]

---


# The big picture: modeling

.pull-left[
What we want out of our model:

Does TV news make people more energized to vote? Or does it turn them off from politics? 

**How much** does an additional hour of TV increase (or decrease) the likelihood that someone votes? 

**What level** of Y (voter turnout) should we expect for a given level of X (exposure to the news)? 

]

.pull-right[
&lt;img src="images/big-picture.jpeg" width="70%" /&gt;

]


---



class: center, middle, inverse
# Modeling with lm
---


# How does car weight impact fuel efficiency?

Remember, we want the underlying model from this line

`\(mpg = \beta_0 + \beta1 \times weight\)`


&lt;img src="06-modeling-II_files/figure-html/unnamed-chunk-2-1.png" width="80%" /&gt;

---


# Modeling in R

--

We can use the `lm()` function to create models in R, using this formula:

&gt; lm(Y ~ X1, data = DATA)


--


```r
*weight_model = lm(mpg ~ wt, data = mtcars)
```

Notice! Saved as a model object

---


# Extract the model

We can extract the model equation with `tidy()`, from the `broom` package


```r
tidy(weight_model)
```

```
## # A tibble: 2 Ã— 5
##   term        estimate std.error statistic  p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)    37.3      1.88      19.9  8.24e-19
## 2 wt             -5.34     0.559     -9.56 1.29e-10
```

---

# Making sense of the table


`\(mpg = \beta_0 + \beta_1 \times weight\)`


```r
tidy(weight_model)
```

```
## # A tibble: 2 Ã— 5
##   term        estimate std.error statistic  p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)    37.3      1.88      19.9  8.24e-19
## 2 wt             -5.34     0.559     -9.56 1.29e-10
```

--

The `estimate` column gives us `\(\beta_0\)` (intercept) and `\(\beta_1\)` (slope for weight)

--

Note! We only care about the first two columns of `tidy()` so far

---


# Extract the model


`\(mpg = \beta_0 + \beta_1 \times weight\)`



|term        | estimate| std.error| statistic| p.value|
|:-----------|--------:|---------:|---------:|-------:|
|(Intercept) |    37.29|      1.88|     19.86|       0|
|wt          |    -5.34|      0.56|     -9.56|       0|

--

The intercept ( `\(\beta_0\)` ) = 37.29

--

The slope ( `\(\beta_1\)` ) = -5.3

--

The model: `\(mpg = 37.29 + -5.3 \times weight\)`

---

class: center, middle, inverse
# Modeling with numbers
---


# Back to the cars

The model: `\(mpg = 37.29 + -5.3 \times weight\)`

How do we interpret the slope on *weight*? 

&lt;img src="06-modeling-II_files/figure-html/unnamed-chunk-7-1.png" width="80%" /&gt;


---


# Interpretation: continuous variables


.pull-left[
As you turn the dimmer (*treatment variable*) the light (*outcome variable*) changes

Turn the dimmer up, the light increases by SLOPE amount

Turn the dimmer down, the light decreases by SLOPE amount

The change is **gradual**
]

.pull-right[
&lt;img src="images/dimmer.jpeg" width="100%" /&gt;
]

---

# Interpretation: the slope

`\(mpg = 37.2 + \color{red}{-5.3} \times weight\)`




|term        | estimate| std.error| statistic| p.value|
|:-----------|--------:|---------:|---------:|-------:|
|(Intercept) |    37.29|      1.88|     19.86|       0|
|wt          |    -5.34|      0.56|     -9.56|       0|


--

**General**: for every *unit increase* in X (weight), Y (mpg) changes by `\(\color{red}{5.3}\)` *units*

--

**Specific**: for every *ton of weight* you add to a car, you lose `\(\color{red}{5.3}\)` *miles per gallon* of fuel efficiency


---


# Interpretation: the intercept


`\(mpg = \color{red}{37.2} + -5.3 \times weight\)`

--

Remember that the Y-intercept is the *value of Y when X = 0*


$$
`\begin{aligned}
Y = 6 + 2x \\
X = 0 \\
Y = 6 + 2 \times 0 \\
Y = 6
\end{aligned}`
$$
---


# Interpretation: the intercept


Take the formula: `\(mpg = \color{red}{37.2} + -5.3 \times weight\)`

--

Set X (weight) equal to 0 `\(\rightarrow\)` `\(\color{red}{37.2} + (-5.3 \times 0) = \color{red}{37.2}\)`

--


**General**: The estimated value of Y (mpg), when X (weight) equals zero, is `\(\color{red}{37.2}\)` units

--

**Specific**: The estimated fuel efficiency for a car that weighs *0 tons* is `\(\color{red}{37.2}\)` miles per gallon

---


# Spot the intercept

`\(mpg = 37.29 + -5.3 \times weight\)`

&lt;img src="06-modeling-II_files/figure-html/unnamed-chunk-10-1.png" width="80%" /&gt;

We can confirm we're not crazy if we zoom out

---


# Nonsense intercepts


`\(mpg = 37.2 + -5.3 \times weight\)`


Interpretation of the intercept:

&gt; The average fuel efficiency for a car that weighs nothing is 37.2 miles per gallon

--

Note that this is **nonsense**: a car cannot weigh zero tons

--

You will run into this often: don't let it confuse you!

--

the intercept will rarely be useful on its own; But we **need** it to draw the line!


---


# Another example: gapminder


Say we want to estimate the relationship between **GDP per capita** and **life expectancy**


&lt;img src="06-modeling-II_files/figure-html/unnamed-chunk-11-1.png" width="100%" /&gt;

---


# The model

We fit the model using `lm()`


```r
wealth_mod = lm(lifeExp ~ gdpPercap, data = gapminder)
```

--


We extract the coefficient estimates using `tidy()`


```r
tidy(wealth_mod)
```

```
## # A tibble: 2 Ã— 5
##   term         estimate std.error statistic   p.value
##   &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept) 54.0      0.315         171.  0        
## 2 gdpPercap    0.000765 0.0000258      29.7 3.57e-156
```



---

# Interpreting the model

`\(LifeExp = \beta_0 + \beta1 \times gdpPercap\)`


```
## # A tibble: 2 Ã— 5
##   term         estimate std.error statistic   p.value
##   &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept) 54.0      0.315         171.  0        
## 2 gdpPercap    0.000765 0.0000258      29.7 3.57e-156
```

--

`\(\beta_1\)`, the slope = for every additional dollar of GDP, a country's life expectancy rises by .0007 years

--

`\(\beta_0\)`, the intercept = the average life expectancy for a country with no economic activity (GDP = 0) is 54 years

---


# The scale of the coefficients


`\(LifeExp = 54 + .0007 \times gdpPercap\)`


Slope: for every **dollar** increase in GDP, life expectancy increases by 0.0007 years

--

Tiny! Does this mean a country's wealth has little to do with their health?

--

No! It is a problem with the **scale** that GDP is in

--

one dollar differences in GDP are tiny, meaningless


---

# Variable scales


We can rescale GDP so that it's in 10s of thousands of dollars:


```r
gapminder = gapminder %&gt;%
  mutate(gdp_10k = gdpPercap/10000)
```

---


# Variable scales

Note the variable is the same; only thing that has changed is the scale!

&lt;img src="06-modeling-II_files/figure-html/unnamed-chunk-16-1.png" width="100%" /&gt;

---


# Re-fit the model




```r
wealth_mod_10k = lm(lifeExp ~ gdp_10k, data = gapminder)
tidy(wealth_mod_10k)
```

```
## # A tibble: 2 Ã— 5
##   term        estimate std.error statistic   p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)    54.0      0.315     171.  0        
## 2 gdp_10k         7.65     0.258      29.7 3.57e-156
```

--

for every additional $10,000 of GDP, a country gains about 7 years

--

Mind your *scales*: if a coefficient is tiny, ask yourself if the scale makes sense


---

# ðŸš¨ Your turn: international trade ðŸš¨


`ir_econ` has data on international trade: 

.scroll-output[

|variable         |meaning                                         |
|:----------------|:-----------------------------------------------|
|imports          |total imports, in current million USD           |
|exports          |total exports, in current million USD           |
|gdp              |GDP in 2011, USD                                |
|pop              |Estimated population                            |
|land_borders     |Number of land borders                          |
|mincapdist       |Distance to closest foreign capital, KM         |
|percent_mountain |Percent of territory that is mountainous        |
|number_of_igos   |Number of international orgs country is part of |
]

---

## ðŸš¨ Why do some countries export more than others? ðŸš¨

--

1. For a year of your choosing, make a scatterplot of imports (x-axis) and exports (y-axis) with a trend-line. Add labels so you can see which countries are the outliers. 

--

2. Estimate a model that tries to explain how much a country exports, using a treatment variable of your choosing. Interpret the model output. 



<div class="countdown" id="timer_6171fb94" style="right:0;bottom:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>


---



class: center, middle, inverse
# Regression with categorical variables
---


# Categorical variables


We can also use categorical variables in our models

--

The simplest categorical variable is a *dummy variable*: 1/0, TRUE/FALSE

--

Men vs. women, young vs. old, has a policy in place (vs. not)

--

Let's say I wanted to look at the relationship between a country *being in the Americas* and life expectancy

--

This is a dummy variable: a country either is, or isn't, in the Americas

---


# Creating dummies with `ifelse()`

We can create that dummy using `ifelse()` and logical operators:


```r
gap_dummies = gapminder %&gt;%
  mutate(is_americas = ifelse(continent == "Americas", 1, 0))
```


Read: "IF the observation's continent equals "Americas", assign a 1, otherwise 0"

---


# Dummy variables


|country     | year| is_americas|
|:-----------|----:|-----------:|
|Nepal       | 1972|           0|
|Australia   | 1977|           0|
|Togo        | 1967|           0|
|China       | 1957|           0|
|Guatemala   | 1957|           1|
|Lebanon     | 2002|           0|
|Puerto Rico | 1967|           1|
|Niger       | 1972|           0|
|Togo        | 1987|           0|
|Gambia      | 2007|           0|

---


# Dummy variables in models


I can include the dummy in a regression model:


```r
americas_mod = lm(lifeExp ~ is_americas, data = gap_dummies)
```

--

And look at the output:


```
## # A tibble: 2 Ã— 5
##   term        estimate std.error statistic  p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)    58.4      0.339    172.   0       
## 2 is_americas     6.29     0.808      7.79 1.14e-14
```

---

# How to interpret categorical variables?


.pull-left[

Turn the light on (`is_america` goes from zero to one), the light *increases* by SLOPE

Turn the light off (`is_america` goes from one to zero), the light *decreases* by SLOPE

The change is **instant**
]

.pull-right[
&lt;img src="images/switch.jpeg" width="100%" /&gt;
]

---


# Interpreting dummies

.small[
`\(\operatorname{\widehat{lifeExp}} = 58.37 + 6.29(\operatorname{is\_americas})\)`
]


```
## # A tibble: 2 Ã— 5
##   term        estimate std.error statistic  p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)    58.4      0.339    172.   0       
## 2 is_americas     6.29     0.808      7.79 1.14e-14
```

.small[
Slope: Countries that are *in the Americas* have, on average, 6.3 years more of life expectancy than countries *not in the Americas* (i.e., in Africa, Europe, Asia, Oceania)

]

--

.small[
Intercept (set is_americas = 0): Countries not in the Americas (i.e., in Africa, Europe, Asia, Oceania) have an average life expectancy of 58.4 years
]


---

# Categorical variables


The intercept here is "is_america = 0"; the slope is the **red line**

&lt;img src="06-modeling-II_files/figure-html/unnamed-chunk-26-1.png" width="100%" /&gt;

---


# What if I have more than one dummy?


Say I go back and create a dummy for each continent:



```r
gap_dummies = gapminder %&gt;%
  mutate(is_africa = ifelse(continent == "Africa", 1, 0),
         is_europe = ifelse(continent == "Europe", 1, 0),
         is_asia = ifelse(continent == "Asia", 1, 0),
         is_oceania = ifelse(continent == "Oceania", 1, 0),
         is_americas = ifelse(continent == "Americas", 1, 0))
```


---

# Multiple dummies


I can include more than one dummy in a regression:


```r
dummy_mod2 = lm(lifeExp ~ is_americas + is_europe, data = gap_dummies)

tidy(dummy_mod2)
```

```
## # A tibble: 3 Ã— 5
##   term        estimate std.error statistic   p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)     53.7     0.323     166.  0        
## 2 is_americas     11.0     0.684      16.0 7.08e- 54
## 3 is_europe       18.2     0.639      28.5 1.77e-146
```

---


# Multiple dummies

.small[
`\(\operatorname{\widehat{lifeExp}} = 53.7 + 10.96(\operatorname{is\_americas}) + 18.2(\operatorname{is\_europe})\)`
]

--

.small[

```
## # A tibble: 3 Ã— 5
##   term        estimate std.error statistic   p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)     53.7     0.323     166.  0        
## 2 is_americas     11.0     0.684      16.0 7.08e- 54
## 3 is_europe       18.2     0.639      28.5 1.77e-146
```
]

--

.small[
`is_americas` = countries in the Americas have, on average, 11 years more of life expectancy than countries not **in the Americas or Europe** (so: Asia, Africa, Oceania)

`is_europe` = countries in Europe have, on average, 18 years more of life expectancy than countries not **in the Americas or Europe** (so: Asia, Africa, Oceania)

`intercept` = set `is_americas` and `is_europe` equal to 0. Countries in Africa, Oceania, and Asia (not in Americas or Europe) have an average life expectancy of 53.7 years
]

---

# One last time



```r
dummy_mod3 = lm(lifeExp ~ is_americas + is_europe + is_asia + is_oceania, 
                data = gap_dummies)

tidy(dummy_mod3)
```

```
## # A tibble: 5 Ã— 5
##   term        estimate std.error statistic   p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)     48.9     0.370     132.  0        
## 2 is_americas     15.8     0.649      24.3 1.38e-112
## 3 is_europe       23.0     0.611      37.7 1.38e-226
## 4 is_asia         11.2     0.593      18.9 2.44e- 72
## 5 is_oceania      25.5     1.92       13.3 2.99e- 38
```

---


# One last time

.small[

```
## # A tibble: 5 Ã— 5
##   term        estimate std.error statistic   p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)     48.9     0.370     132.  0        
## 2 is_americas     15.8     0.649      24.3 1.38e-112
## 3 is_europe       23.0     0.611      37.7 1.38e-226
## 4 is_asia         11.2     0.593      18.9 2.44e- 72
## 5 is_oceania      25.5     1.92       13.3 2.99e- 38
```

]

--

.small[
* `is_americas` = countries in the Americas have, on average, 15 years more of life expectancy than countries **not in the Americas or Europe or Asia or Oceania** (so: Africa)

* `is_europe` = countries in Europe have, on average, 23 years more of life expectancy than countries **not in the Americas or Europe or Asia or Oceania** (so: Africa)

* `is_asia` = countries in Asia have, on average, 11 years more of life expectancy than countries **not in the Americas or Europe or Asia or Oceania** (so: Africa)

]

---

# One last time

.small[
$$
`\begin{aligned}
\operatorname{\widehat{lifeExp}} &amp;= 48.87 + 15.79(\operatorname{is\_americas}) + 23.04(\operatorname{is\_europe}) + 11.2(\operatorname{is\_asia})\ + \\
&amp;\quad 25.46(\operatorname{is\_oceania})
\end{aligned}`
$$
]


.small[

```
## # A tibble: 5 Ã— 5
##   term        estimate std.error statistic   p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)     48.9     0.370     132.  0        
## 2 is_americas     15.8     0.649      24.3 1.38e-112
## 3 is_europe       23.0     0.611      37.7 1.38e-226
## 4 is_asia         11.2     0.593      18.9 2.44e- 72
## 5 is_oceania      25.5     1.92       13.3 2.99e- 38
```
]

--

.small[

* `is_oceania` = countries in Oceania have, on average, 25 years more of life expectancy than countries **not in the Americas or Europe or Asia or Oceania** (Africa)

* `intercept` = countries in Africa (**not in Americas or Europe or Asia or Oceania**) have an average life expectancy of 48.9 years
]


---

# The pattern

Notice how the coefficient in each dummy is how much *higher* or *lower* the continent is, relative to the intercept (every other continent)

--

As you add more continent dummies, the coefficient changes

--

It becomes: how much higher or lower that continent is relative to the intercept, which now **excludes** the other continent dummies in the model

--

This means that as the number of dummies increases, the number of continents in the intercept **decreases**


---


# More complicated categorical variables


Most of the variables we care about are not just dummies

--

They take on many values

--

E.g., education levels, sex, race, religion, etc.

--

What happens when we include one of these in a model? 

---


# Categorical variables = dummies

If you fit a model with a categorical variable, R will automatically break it up into n-1 dummies


```r
continent_model = lm(lifeExp ~ continent, data = gapminder)

tidy(continent_model)
```

```
## # A tibble: 5 Ã— 5
##   term              estimate std.error statistic   p.value
##   &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)           48.9     0.370     132.  0        
## 2 continentAmericas     15.8     0.649      24.3 1.38e-112
## 3 continentAsia         11.2     0.593      18.9 2.44e- 72
## 4 continentEurope       23.0     0.611      37.7 1.38e-226
## 5 continentOceania      25.5     1.92       13.3 2.99e- 38
```


---

# The same!

.pull-left[

```r
bigcat = lm(lifeExp ~ continent, 
   data = gapminder)
tidy(bigcat)
```

```
## # A tibble: 5 Ã— 5
##   term              estimate std.error statistic   p.value
##   &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)           48.9     0.370     132.  0        
## 2 continentAmericas     15.8     0.649      24.3 1.38e-112
## 3 continentAsia         11.2     0.593      18.9 2.44e- 72
## 4 continentEurope       23.0     0.611      37.7 1.38e-226
## 5 continentOceania      25.5     1.92       13.3 2.99e- 38
```
]

.pull-right[

```r
dummy_cat = lm(lifeExp ~ is_americas + is_europe + 
     is_asia + is_oceania,
   data = gap_dummies)
tidy(dummy_cat)
```

```
## # A tibble: 5 Ã— 5
##   term        estimate std.error statistic   p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)     48.9     0.370     132.  0        
## 2 is_americas     15.8     0.649      24.3 1.38e-112
## 3 is_europe       23.0     0.611      37.7 1.38e-226
## 4 is_asia         11.2     0.593      18.9 2.44e- 72
## 5 is_oceania      25.5     1.92       13.3 2.99e- 38
```
]


---

# Interpretation formula



|Type       |Approach                                                    |Intercept                                          |
|:----------|:-----------------------------------------------------------|:--------------------------------------------------|
|Continuous |A one unit increase in X, SLOPE unit change in Y            |Average value of Y when X = 0                      |
|Category   |The category is SLOPE units higher/lower than the intercept |Average value of Y for baseline (missing) category |


Interpreting coefficients is pretty confusing; it just requires practice


---


# We're on our way


We now know (sorta) how to interpret the coefficients on those big tables in the political science papers:

--

&lt;img src="images/reg-table.png" width="100%" /&gt;


---



# ðŸš¨ Your turn: dealer's choice ðŸš¨

--

1. Using the `penguins` dataset, regress weight against penguin species. Interpret the output. 

--

2. Using any of the datasets we've used in class, regress a continuous-ish variable (outcome) against a categorical variable (treatment). Interpret the output. 

--

.small[
Hint: to figure out what values a categorical variable takes on, use the `distinct()` function, like so: `data %&gt;% distinct(variable)`
]


<div class="countdown" id="timer_6171f9fd" style="right:0;bottom:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>


---



&lt;!-- # Can't fit every dummy --&gt;

&lt;!-- Can't have **both** an intercept and every dummy in the model --&gt;

&lt;!-- But there's no need; the intercept is the "missing" dummy --&gt;

&lt;!-- ```{r, echo = TRUE} --&gt;
&lt;!-- lm(lifeExp ~ is_africa + is_europe + is_asia + is_oceania + is_americas, data = gap_dummies) %&gt;% tidy() --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;




&lt;!-- # Outcome is a dummy variable --&gt;


&lt;!-- We can also estimate models when the outcome is a dummy variable --&gt;


&lt;!-- From `gss_sm`: does having more children make you more or less likely to have voted for Obama?  --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- gss_sm %&gt;%  --&gt;
&lt;!--   select(year, id, childs, obama) %&gt;%  --&gt;
&lt;!--   knitr::kable() --&gt;
&lt;!-- ``` --&gt;


&lt;!-- --- --&gt;

&lt;!-- # Outcome is a dummy variable --&gt;

&lt;!-- ```{r, echo = TRUE} --&gt;
&lt;!-- obama_kids = lm(obama ~ childs, data = gss_sm) --&gt;
&lt;!-- tidy(obama_kids) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- For every additional child a person has, the probability they vote for Obama decreases by 1.7 percentage points --&gt;

&lt;!-- --- --&gt;



    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLanguage": "r",
"highlightLines": true,
"highlightSpans": true,
"countIncrementalSlides": false,
"ratio": "16:9",
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
